define(function(){var f,h,v,g,p,n,N,I,S,y=1,L=0,q=0;function C(){var e=0,l=f.scrollLeft,t=(y*q-l)/20;clearInterval(n),n=setInterval(function(){20<=++e&&clearInterval(n),l+=t,f.scrollLeft=l},20)}function E(){clearInterval(N),N=setInterval(function(){++y>=v.length&&(y=2,f.scrollLeft=q),C(),g[L].className="",++L>=g.length&&(L=0),g[L].className=p},3e3)}return{Init:function(e){f=document.querySelector(e.elementCon),I=document.querySelector(e.elementLeft),S=document.querySelector(e.elementRight),h=document.querySelector(e.elementActive);var l=e.oImgWidth;p=e.active;var t=e.data||[];f.innerHTML="";var n=document.createElement("ul");n.className="clearfix";for(var c=JSON.parse(t),a=0;a<c.length;a++){var r=document.createElement("li"),o=document.createElement("a");o.href=c[a].linkAddress,o.target="_blank",o.id=c[a].bannerId;var i=document.createElement("img");i.src=c[a].imgSrc,i.style.width=l||document.documentElement.clientWidth+"px",o.appendChild(i),r.appendChild(o),n.appendChild(r);var d=document.createElement("li");0==a&&(d.className=p),h.appendChild(d)}f.appendChild(n),v=f.querySelectorAll("img"),g=h.querySelectorAll("li"),q=v[0].offsetWidth;var s=n.querySelectorAll("li"),m=s[0].cloneNode(!0),u=s[s.length-1].cloneNode(!0);n.appendChild(m),n.insertBefore(u,s[0]),f.scrollLeft=y*q,E(),function(){for(var e=0;e<g.length;e++)g[e].index=e,g[e].onclick=function(){clearInterval(N),g[L].className="",L=this.index,g[L].className=p,y=this.index+1,C(),E()}}(),I.onclick=function(){clearInterval(N),--y<0&&(y=v.length-3,f.scrollLeft=(y+1)*q),C(),g[L].className="",--L<0&&(L=g.length-1),g[L].className=p,E()},S.onclick=function(){clearInterval(N),++y>=v.length&&(y=2,f.scrollLeft=q),C(),g[L].className="",++L>=g.length&&(L=0),g[L].className=p,E()}}}});