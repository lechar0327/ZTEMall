define(function(){return{ajax:function(t){(t=t||{}).type=(t.type||"GET").toUpperCase(),t.dataType=t.dataType||"json";var n,e=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push(("v="+Math.random()).replace(".","")),t.join("&")}(t.data);try{n=new XMLHttpRequest}catch(e){n=new ActiveXObject("Microsoft.XMLHTTP")}"GET"==t.type?(n.open("GET",t.url+"?"+e,!0),n.send()):"POST"==t.type&&(n.open("POST",t.url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(e)),n.onreadystatechange=function(){if(4==n.readyState){var e=n.status;200<=e&&e<300||304==e?t.success&&t.success(n.responseText,n.responseXML):t.error&&t.error(e)}}}}});